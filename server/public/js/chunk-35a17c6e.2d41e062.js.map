{"version":3,"sources":["webpack:///./src/views/ContactDetails.vue?606e","webpack:///src/views/ContactDetails.vue","webpack:///./src/views/ContactDetails.vue?3b7d","webpack:///./src/views/ContactDetails.vue","webpack:///./src/views/ContactDetails.vue?0eb1"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","currentContact","attrs","imgUrl","_l","attribute","key","_id","ref","refInFor","on","$event","backOneStep","domProps","attribut","value","toggleModal","setCurrentContactId","_v","saveAttribute","editAttribute","_s","createdAt","preventDefault","submitHandler","directives","name","rawName","expression","target","composing","newAttribut","newValue","staticRenderFns","computed","props","data","editedAttribut","editedValue","oldAttribut","oldValue","methods","findCurrentContact","setOldAttributeValue","id","e","parentNode","classList","contains","toggle","$elm","i","remove","previousSibling","ContactListService","currentAttribute","nextSibling","mounted","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAAEN,EAAIO,eAAqB,OAAEH,EAAG,OAAO,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,iCAAmCR,EAAIO,eAAeE,OAAO,IAAM,eAAeL,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACF,EAAG,oBAAoB,CAACI,MAAM,CAAC,KAAO,CAAC,MAAO,YAAY,KAAKJ,EAAG,KAAK,CAACE,YAAY,gBAAgB,CAACN,EAAIU,GAAIV,EAAIO,eAAyB,YAAE,SAASI,GAAW,OAAOP,EAAG,KAAK,CAACQ,IAAID,EAAUE,IAAIC,IAAI,iBAAiBC,UAAS,EAAKT,YAAY,qBAAqB,CAACF,EAAG,SAAS,CAACE,YAAY,yBAAyBU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIkB,YAAYD,EAAQN,EAAUE,QAAQ,CAACT,EAAG,oBAAoB,CAACI,MAAM,CAAC,KAAO,CAAC,MAAO,YAAY,GAAGJ,EAAG,QAAQ,CAACE,YAAY,sBAAsBa,SAAS,CAAC,MAAQR,EAAUS,YAAYhB,EAAG,QAAQ,CAACE,YAAY,2BAA2Ba,SAAS,CAAC,MAAQR,EAAUU,SAASjB,EAAG,SAAS,CAACE,YAAY,0BAA0BU,GAAG,CAAC,MAAQ,SAASC,GAAQjB,EAAIsB,YAAatB,EAAIuB,oBAAoB,gBAAiBZ,EAAUE,QAAQ,CAACb,EAAIwB,GAAG,cAAcpB,EAAG,SAAS,CAACE,YAAY,0BAA0BU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIyB,cAAcR,EAAQN,EAAUE,QAAQ,CAACb,EAAIwB,GAAG,YAAYpB,EAAG,IAAI,CAACE,YAAY,SAASU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAIuB,oBAAoB,mBAAoBZ,EAAUE,QAAQ,CAACT,EAAG,oBAAoB,CAACI,MAAM,CAAC,KAAO,CAAC,MAAO,aAAa,GAAGJ,EAAG,IAAI,CAACE,YAAY,OAAOU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOjB,EAAI0B,cAAcT,EAAQN,EAAUE,QAAQ,CAACT,EAAG,oBAAoB,CAACI,MAAM,CAAC,KAAO,CAAC,MAAO,WAAW,QAAOJ,EAAG,KAAK,CAACE,YAAY,qBAAqB,CAACF,EAAG,OAAO,CAACE,YAAY,YAAY,CAACN,EAAIwB,GAAG,aAAaxB,EAAIwB,GAAG,IAAIxB,EAAI2B,GAAG1B,KAAKM,eAAeqB,WAAW,QAAQ,KAAKxB,EAAG,OAAO,CAACY,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOY,iBAAwB7B,EAAI8B,cAAcb,MAAW,CAACb,EAAG,IAAI,CAACJ,EAAIwB,GAAG,+CAA+CpB,EAAG,QAAQ,CAAC2B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUZ,MAAOrB,EAAe,YAAEkC,WAAW,gBAAgB1B,MAAM,CAAC,KAAO,OAAO,YAAc,iBAAiB,SAAW,IAAIW,SAAS,CAAC,MAASnB,EAAe,aAAGgB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOkB,OAAOC,YAAqBpC,EAAIqC,YAAYpB,EAAOkB,OAAOd,WAAUjB,EAAG,QAAQ,CAAC2B,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUZ,MAAOrB,EAAY,SAAEkC,WAAW,aAAa1B,MAAM,CAAC,KAAO,OAAO,YAAc,kBAAkB,SAAW,IAAIW,SAAS,CAAC,MAASnB,EAAY,UAAGgB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOkB,OAAOC,YAAqBpC,EAAIsC,SAASrB,EAAOkB,OAAOd,WAAUjB,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,SAAS,MAAQ,yBAAyBJ,EAAG,cAAc,CAACI,MAAM,CAAC,GAAK,MAAM,CAACR,EAAIwB,GAAG,2BAA2B,IACnwFe,EAAkB,G,gFCyDtB,GACEC,SAAU,OAAZ,OAAY,CAAZ,iBACEC,MAAO,CAAC,cAAe,uBACvBC,KAHF,WAII,MAAO,CACLnC,eAAgB,GAChB8B,YAAa,GACbC,SAAU,GACVK,eAAgB,GAChBC,YAAa,GACbC,YAAa,GACbC,SAAU,KAGdC,QAAS,CACPC,mBADJ,WACA,WACA,2CACA,YAAQ,OAAR,8BAEM/C,KAAKM,eAAiBA,EAAe,IAEvC,cAPJ,WAOA,qKACA,GACA,uBACA,iBACA,yBAEA,iBACA,cAPA,SAQA,8CACA,YACA,yCACA,kEACA,yCAZA,8CAgBImB,cAvBJ,SAuBA,KAEM,GADAzB,KAAKgD,qBAAqBC,GACtBC,EAAEhB,OAAOiB,WAAWC,UAAUC,SAAS,QAAS,CAClDH,EAAEhB,OAAOiB,WAAWA,WAAWC,UAAUE,OAAO,cAEhD,IADA,IAAR,4BACA,mBACcC,EAAKC,KAAON,EAAEhB,OAAOiB,WAAWA,YAClCI,EAAKC,GAAGJ,UAAUK,OAAO,gBAKjCjC,cAnCJ,SAmCA,KACMxB,KAAK0C,eAAiBQ,EAAEhB,OAAOwB,gBAAgBA,gBAAgBA,gBAAgBtC,MAC/EpB,KAAK2C,YAAcO,EAAEhB,OAAOwB,gBAAgBA,gBAAgBtC,MAE5D,IAAN,GACQD,SAAUnB,KAAK0C,eACftB,MAAOpB,KAAK2C,YACZM,GAAR,GAEMU,EAAN,2CACMT,EAAEhB,OAAOiB,WAAWC,UAAUK,OAAO,cACrCzD,KAAK0C,eAAiB,GACtB1C,KAAK2C,YAAc,IAErBK,qBAjDJ,SAiDA,GACM,IAAN,yDACA,YAAQ,OAAR,aAEMhD,KAAK4C,YAAcgB,EAAiB,GAAGzC,SACvCnB,KAAK6C,SAAWe,EAAiB,GAAGxC,OAEtCH,YAxDJ,SAwDA,KACM,IAAN,GACQE,SAAUnB,KAAK4C,YACfxB,MAAOpB,KAAK6C,SACZI,GAAR,GAGMC,EAAEhB,OAAO2B,YAAYA,YAAYzC,MAAQpB,KAAK6C,SAC9CK,EAAEhB,OAAO2B,YAAYzC,MAAQpB,KAAK4C,YAClCe,EAAN,6CAGEG,QAlFF,WAmFI9D,KAAK+C,uBC7I+U,I,wBCQpVgB,EAAY,eACd,EACAjE,EACAwC,GACA,EACA,KACA,WACA,MAIa,aAAAyB,E,oECnBf","file":"js/chunk-35a17c6e.2d41e062.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contact-details\"},[_c('div',{staticClass:\"contact-details__contaiter\"},[_c('div',{staticClass:\"user-img-box\"},[(_vm.currentContact.imgUrl)?_c('span',[_c('img',{attrs:{\"src\":'http://localhost:5000/uploads/' + _vm.currentContact.imgUrl,\"alt\":\"userImg\"}})]):_c('span',{staticClass:\"userDefaultImg\"},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'user']}})],1)]),_c('ul',{staticClass:\"user-details\"},[_vm._l((_vm.currentContact.attributes),function(attribute){return _c('li',{key:attribute._id,ref:\"listAttributes\",refInFor:true,staticClass:\"attributesContact\"},[_c('button',{staticClass:\"backOneStep editActive\",on:{\"click\":function($event){return _vm.backOneStep($event, attribute._id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'undo']}})],1),_c('input',{staticClass:\"attribut editActive\",domProps:{\"value\":attribute.attribut}}),_c('input',{staticClass:\"attributValue editActive\",domProps:{\"value\":attribute.value}}),_c('button',{staticClass:\"cancelChange editActive\",on:{\"click\":function($event){_vm.toggleModal, _vm.setCurrentContactId('BACK_ONE_STEP', attribute._id)}}},[_vm._v(\" Cancel \")]),_c('button',{staticClass:\"attributSave editActive\",on:{\"click\":function($event){return _vm.saveAttribute($event, attribute._id)}}},[_vm._v(\" Save \")]),_c('i',{staticClass:\"delete\",on:{\"click\":function($event){return _vm.setCurrentContactId('DELETE_ATTRIBUTE', attribute._id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'trash']}})],1),_c('i',{staticClass:\"edit\",on:{\"click\":function($event){return _vm.editAttribute($event, attribute._id)}}},[_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'pen']}})],1)])}),_c('li',{staticClass:\"attributesContact\"},[_c('span',{staticClass:\"attribut\"},[_vm._v(\"Created\")]),_vm._v(\" \"+_vm._s(this.currentContact.createdAt)+\" \")])],2)]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitHandler($event)}}},[_c('p',[_vm._v(\"You can add new information for this user\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newAttribut),expression:\"newAttribut\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Name attribute\",\"required\":\"\"},domProps:{\"value\":(_vm.newAttribut)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newAttribut=$event.target.value}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newValue),expression:\"newValue\"}],attrs:{\"type\":\"text\",\"placeholder\":\"Value attribute\",\"required\":\"\"},domProps:{\"value\":(_vm.newValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.newValue=$event.target.value}}}),_c('input',{attrs:{\"type\":\"submit\",\"value\":\"Add new attribute\"}})]),_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Back to Contact List\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"contact-details\">\n    <div class=\"contact-details__contaiter\">\n      <div class=\"user-img-box\">\n        <span v-if=\"currentContact.imgUrl\">\n          <img :src=\"'http://localhost:5000/uploads/' + currentContact.imgUrl\" alt=\"userImg\" />\n        </span>\n        <span v-else class=\"userDefaultImg\">\n          <font-awesome-icon :icon=\"['fas', 'user']\" />\n        </span>\n      </div>\n      <ul class=\"user-details\">\n        <li\n          class=\"attributesContact\"\n          v-for=\"attribute in currentContact.attributes\"\n          :key=\"attribute._id\"\n          ref=\"listAttributes\"\n        >\n          <button class=\"backOneStep editActive\" v-on:click=\"backOneStep($event, attribute._id)\">\n            <font-awesome-icon :icon=\"['fas', 'undo']\" />\n          </button>\n          <input class=\"attribut editActive\" :value=\"attribute.attribut\" />\n          <input class=\"attributValue editActive\" :value=\"attribute.value\" />\n          <button\n            class=\"cancelChange editActive\"\n            v-on:click=\"toggleModal, setCurrentContactId('BACK_ONE_STEP', attribute._id)\"\n          >\n            Cancel\n          </button>\n          <button class=\"attributSave editActive\" v-on:click=\"saveAttribute($event, attribute._id)\">\n            Save\n          </button>\n\n          <i class=\"delete\" v-on:click=\"setCurrentContactId('DELETE_ATTRIBUTE', attribute._id)\">\n            <font-awesome-icon :icon=\"['fas', 'trash']\"/></i\n          ><i class=\"edit\" v-on:click=\"editAttribute($event, attribute._id)\"\n            ><font-awesome-icon :icon=\"['fas', 'pen']\"\n          /></i>\n        </li>\n        <li class=\"attributesContact\">\n          <span class=\"attribut\">Created</span> {{ this.currentContact.createdAt }}\n        </li>\n      </ul>\n    </div>\n    <form @submit.prevent=\"submitHandler\">\n      <p>You can add new information for this user</p>\n      <input type=\"text\" v-model=\"newAttribut\" placeholder=\"Name attribute\" required />\n      <input type=\"text\" v-model=\"newValue\" placeholder=\"Value attribute\" required />\n      <input type=\"submit\" value=\"Add new attribute\" />\n    </form>\n    <router-link to=\"/\">Back to Contact List</router-link>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport ContactListService from '../ContactListService'\n\nexport default {\n  computed: mapGetters(['allContacts']),\n  props: ['toggleModal', 'setCurrentContactId'],\n  data() {\n    return {\n      currentContact: [],\n      newAttribut: '',\n      newValue: '',\n      editedAttribut: '',\n      editedValue: '',\n      oldAttribut: '',\n      oldValue: '',\n    }\n  },\n  methods: {\n    findCurrentContact() {\n      let currentContact = [...this.allContacts].filter(\n        (contact) => contact._id === this.$route.params.id\n      )\n      this.currentContact = currentContact[0]\n    },\n    async submitHandler() {\n      const newArrtibute = {\n        attribut: this.newAttribut,\n        value: this.newValue,\n        id: this.currentContact._id,\n      }\n      this.newAttribut = ''\n      this.newValue = ''\n      await ContactListService.insertContact('add-attribute', newArrtibute).then(\n        (createdArrtibute) => {\n          this.currentContact.attributes.push(createdArrtibute.data)\n          const newContactList = [...this.allContacts, this.currentContact]\n          this.$store.dispatch('updateContacts', newContactList)\n        }\n      )\n    },\n    editAttribute(e, id) {\n      this.setOldAttributeValue(id)\n      if (e.target.parentNode.classList.contains('edit')) {\n        e.target.parentNode.parentNode.classList.toggle('editActive')\n        let $elm = this.$refs.listAttributes\n        for (let i = 0; i < $elm.length; i++) {\n          if ($elm[i] !== e.target.parentNode.parentNode) {\n            $elm[i].classList.remove('editActive')\n          }\n        }\n      }\n    },\n    saveAttribute(e, id) {\n      this.editedAttribut = e.target.previousSibling.previousSibling.previousSibling.value\n      this.editedValue = e.target.previousSibling.previousSibling.value\n\n      const editedAttribute = {\n        attribut: this.editedAttribut,\n        value: this.editedValue,\n        id,\n      }\n      ContactListService.updateAttribute('update-attribute', editedAttribute)\n      e.target.parentNode.classList.remove('editActive')\n      this.editedAttribut = ''\n      this.editedValue = ''\n    },\n    setOldAttributeValue(id) {\n      const currentAttribute = [...this.currentContact.attributes].filter(\n        (attribut) => attribut._id === id\n      )\n      this.oldAttribut = currentAttribute[0].attribut\n      this.oldValue = currentAttribute[0].value\n    },\n    backOneStep(e, id) {\n      const editedAttribute = {\n        attribut: this.oldAttribut,\n        value: this.oldValue,\n        id,\n      }\n\n      e.target.nextSibling.nextSibling.value = this.oldValue\n      e.target.nextSibling.value = this.oldAttribut\n      ContactListService.updateAttribute('update-attribute', editedAttribute)\n    },\n  },\n  mounted() {\n    this.findCurrentContact()\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.contact-details__contaiter {\n  display: flex;\n  justify-content: space-between;\n}\n.user-img-box {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 0;\n  width: 315px;\n  height: 315px;\n  img {\n    width: 100%;\n    height: 100%;\n  }\n  svg {\n    font-size: 250px;\n  }\n}\n.user-details {\n  padding: 20px;\n  margin: 0;\n  list-style-type: none;\n  width: 100%;\n  width: 70%;\n  span {\n    font-weight: 700;\n  }\n  li {\n    position: relative;\n    font-size: 20px;\n    padding: 10px;\n    padding-left: 0;\n    border-bottom: #ccc 1px solid;\n  }\n  .delete,\n  .edit {\n    position: absolute;\n    right: 10px;\n    font-size: 20px;\n    cursor: pointer;\n    svg {\n      color: #b93e55;\n      transition: 0.3s;\n      &:hover {\n        opacity: 0.7;\n        transform: scale(1.2);\n      }\n    }\n  }\n  .edit {\n    right: 50px;\n    svg {\n      color: #244152;\n      path {\n        pointer-events: none;\n      }\n    }\n  }\n}\nform {\n  padding: 20px;\n  text-align: center;\n  p {\n    font-weight: 700;\n    font-size: 25px;\n  }\n  input {\n    text-transform: capitalize;\n    font-size: 16px;\n    padding: 10px;\n    outline: none;\n    border: 1px solid #298cc5;\n  }\n  input[type='submit'] {\n    background-color: #244152;\n    color: #fff;\n    transition: 0.3s;\n    cursor: pointer;\n    &:hover {\n      transform: scale(1.05);\n    }\n  }\n}\na {\n  margin: 40px auto 0 auto;\n  width: 150px;\n  display: block;\n  color: #fff;\n  text-align: center;\n}\n.attributesContact {\n  display: flex;\n  width: 100%;\n  display: flex;\n  align-items: flex-start;\n  input {\n    outline: none;\n    flex-grow: 1;\n    padding: 3px 10px;\n    pointer-events: none;\n    background-color: transparent;\n    border: none;\n    color: #fff;\n    font-size: 20px;\n  }\n  button {\n    transition: 0.3s;\n    background-color: #ffc107;\n    color: #244152;\n    border: none;\n    font-size: 18px;\n    padding: 4px 10px;\n    margin-left: 20px;\n    display: none;\n    cursor: pointer;\n    &:hover {\n      opacity: 0.7;\n      transform: scale(1.05);\n    }\n  }\n  .backOneStep {\n    background-color: #17a2b8;\n    color: #fff;\n    margin: 0 20px 0 0;\n    .backOneStep.active {\n      background-color: #28a745;\n    }\n    svg {\n      pointer-events: none;\n    }\n  }\n  .attributSave {\n    background-color: #28a745;\n    color: #fff;\n  }\n  .attribut {\n    max-width: 180px;\n    margin-right: 20px;\n    font-weight: 700;\n    text-transform: capitalize;\n    &::first-letter {\n      text-transform: uppercase;\n    }\n  }\n  .attributValue {\n    max-width: 280px;\n  }\n}\n.editActive {\n  input.editActive {\n    pointer-events: auto;\n    background-color: #fff;\n    color: #244152;\n  }\n  button.editActive {\n    display: block;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactDetails.vue?vue&type=template&id=7105754e&scoped=true&\"\nimport script from \"./ContactDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContactDetails.vue?vue&type=style&index=0&id=7105754e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7105754e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactDetails.vue?vue&type=style&index=0&id=7105754e&lang=scss&scoped=true&\""],"sourceRoot":""}