(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e4cea56"],{"1d3f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contact-details"},[a("div",{staticClass:"contact-details__contaiter"},[a("div",{staticClass:"user-img-box"},[t.currentContact.imgUrl?a("span",[a("img",{attrs:{src:"https://contact-list-2020.herokuapp.com/uploads/"+t.currentContact.imgUrl,alt:"userImg"}})]):a("span",{staticClass:"userDefaultImg"},[a("font-awesome-icon",{attrs:{icon:["fas","user"]}})],1)]),a("ul",{staticClass:"user-details"},[t._l(t.currentContact.attributes,(function(e){return a("li",{key:e._id,ref:"listAttributes",refInFor:!0,staticClass:"attributesContact"},[a("button",{staticClass:"backOneStep editActive",on:{click:function(a){return t.backOneStep(a,e._id)}}},[a("font-awesome-icon",{attrs:{icon:["fas","undo"]}})],1),a("input",{staticClass:"attribut editActive",domProps:{value:e.attribut}}),a("input",{staticClass:"attributValue editActive",domProps:{value:e.value}}),a("button",{staticClass:"cancelChange editActive",on:{click:function(a){t.toggleModal,t.setCurrentContactId("BACK_ONE_STEP",e._id)}}},[t._v(" Cancel ")]),a("button",{staticClass:"attributSave editActive",on:{click:function(a){return t.saveAttribute(a,e._id)}}},[t._v(" Save ")]),a("i",{staticClass:"delete",on:{click:function(a){return t.setCurrentContactId("DELETE_ATTRIBUTE",e._id)}}},[a("font-awesome-icon",{attrs:{icon:["fas","trash"]}})],1),a("i",{staticClass:"edit",on:{click:function(a){return t.editAttribute(a,e._id)}}},[a("font-awesome-icon",{attrs:{icon:["fas","pen"]}})],1)])})),a("li",{staticClass:"attributesContact"},[a("span",{staticClass:"attribut"},[t._v("Created")]),t._v(" "+t._s(this.currentContact.createdAt)+" ")])],2)]),a("form",{on:{submit:function(e){return e.preventDefault(),t.submitHandler(e)}}},[a("p",[t._v("You can add new information for this user")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newAttribut,expression:"newAttribut"}],attrs:{type:"text",placeholder:"Name attribute",required:""},domProps:{value:t.newAttribut},on:{input:function(e){e.target.composing||(t.newAttribut=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newValue,expression:"newValue"}],attrs:{type:"text",placeholder:"Value attribute",required:""},domProps:{value:t.newValue},on:{input:function(e){e.target.composing||(t.newValue=e.target.value)}}}),a("input",{attrs:{type:"submit",value:"Add new attribute"}})]),a("router-link",{attrs:{to:"/"}},[t._v("Back to Contact List")])],1)},n=[],r=(a("99af"),a("4de4"),a("96cf"),a("1da1")),u=a("2909"),s=a("2f62"),o=a("39d4"),c={computed:Object(s["b"])(["allContacts"]),props:["toggleModal","setCurrentContactId"],data:function(){return{currentContact:[],newAttribut:"",newValue:"",editedAttribut:"",editedValue:"",oldAttribut:"",oldValue:""}},methods:{findCurrentContact:function(){var t=this,e=Object(u["a"])(this.allContacts).filter((function(e){return e._id===t.$route.params.id}));this.currentContact=e[0]},submitHandler:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={attribut:t.newAttribut,value:t.newValue,id:t.currentContact._id},t.newAttribut="",t.newValue="",e.next=5,o["a"].insertContact("add-attribute",a).then((function(e){t.currentContact.attributes.push(e.data);var a=[].concat(Object(u["a"])(t.allContacts),[t.currentContact]);t.$store.dispatch("updateContacts",a)}));case 5:case"end":return e.stop()}}),e)})))()},editAttribute:function(t,e){if(this.setOldAttributeValue(e),t.target.parentNode.classList.contains("edit")){t.target.parentNode.parentNode.classList.toggle("editActive");for(var a=this.$refs.listAttributes,i=0;i<a.length;i++)a[i]!==t.target.parentNode.parentNode&&a[i].classList.remove("editActive")}},saveAttribute:function(t,e){this.editedAttribut=t.target.previousSibling.previousSibling.previousSibling.value,this.editedValue=t.target.previousSibling.previousSibling.value;var a={attribut:this.editedAttribut,value:this.editedValue,id:e};o["a"].updateAttribute("update-attribute",a),t.target.parentNode.classList.remove("editActive"),this.editedAttribut="",this.editedValue=""},setOldAttributeValue:function(t){var e=Object(u["a"])(this.currentContact.attributes).filter((function(e){return e._id===t}));this.oldAttribut=e[0].attribut,this.oldValue=e[0].value},backOneStep:function(t,e){var a={attribut:this.oldAttribut,value:this.oldValue,id:e};t.target.nextSibling.nextSibling.value=this.oldValue,t.target.nextSibling.value=this.oldAttribut,o["a"].updateAttribute("update-attribute",a)}},mounted:function(){this.findCurrentContact()}},l=c,d=(a("bab6"),a("2877")),b=Object(d["a"])(l,i,n,!1,null,"b3faa218",null);e["default"]=b.exports},"348d":function(t,e,a){},bab6:function(t,e,a){"use strict";a("348d")}}]);
//# sourceMappingURL=chunk-3e4cea56.e9afa20d.js.map